(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{73:function(a,e,t){"use strict";t.r(e);var s=t(0),r=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"html核心技巧"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#html核心技巧","aria-hidden":"true"}},[a._v("#")]),a._v(" HTML核心技巧")]),a._v(" "),t("h2",{attrs:{id:"同源策略"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#同源策略","aria-hidden":"true"}},[a._v("#")]),a._v(" 同源策略")]),a._v(" "),t("ul",[t("li",[a._v("含义：域名、协议、端口相同")]),a._v(" "),t("li",[a._v("目的：保证用户信息的安全，防止恶意的获取网站数据")]),a._v(" "),t("li",[a._v("限制对象（跨域）：Cookie、LocalStorage、IndexDB无法读取；DOM无法获取；Ajax请求无法发送")])]),a._v(" "),t("h2",{attrs:{id:"如何设置同源策略？（hosts）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何设置同源策略？（hosts）","aria-hidden":"true"}},[a._v("#")]),a._v(" 如何设置同源策略？（hosts）")]),a._v(" "),t("p",[a._v("当网页的一级域名相同，二级域名不同时，设置"),t("strong",[a._v("document.domain")]),a._v("，可以共享cookie")]),a._v(" "),t("h2",{attrs:{id:"完全不同源的网页，如何解决跨域窗口的通讯问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#完全不同源的网页，如何解决跨域窗口的通讯问题","aria-hidden":"true"}},[a._v("#")]),a._v(" 完全不同源的网页，如何解决跨域窗口的通讯问题?")]),a._v(" "),t("ul",[t("li",[a._v("片段识别符（改变hash）")]),a._v(" "),t("li",[a._v("window.name")]),a._v(" "),t("li",[a._v("跨文档通讯API（window.postMessage）")])]),a._v(" "),t("h2",{attrs:{id:"window-postmessage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#window-postmessage","aria-hidden":"true"}},[a._v("#")]),a._v(" window.postMessage")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("// 父：http://aaa.com 子：http://bbb.com\nvar A = window.open('http://bbb.com','title');//父窗口打开子窗口\nA.postMessage('儿子','http://bbb.com');//父窗口向特定子窗口发信息\nA.postMessage('儿子们');//父窗口向所有子窗口发信息\nwindow.opener.postMessage('皇阿玛','http://aaa.com');//子窗口向父窗口发信息\n")])])]),t("h2",{attrs:{id:"如何突破同源策略？前端跨域有几种方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何突破同源策略？前端跨域有几种方案","aria-hidden":"true"}},[a._v("#")]),a._v(" 如何突破同源策略？前端跨域有几种方案?")]),a._v(" "),t("ul",[t("li",[a._v("HTML标签：img、iframe、script（jsonp）、link（background）")]),a._v(" "),t("li",[a._v("JSONP：基本思想：网页通过添加script元素，向服务器请求JSON数据，服务器收到请求后，将数据放到一个指定名字的回调函数里传过来")]),a._v(" "),t("li",[a._v("WebSocket")]),a._v(" "),t("li",[a._v("CORS")])]),a._v(" "),t("h2",{attrs:{id:"image测试网速"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image测试网速","aria-hidden":"true"}},[a._v("#")]),a._v(" image测试网速")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('//已知图片大小，已知时间差，网速=kb/s\nvar startTime = Date.now();\nvar image = new Image();\nimage.crossOrigin = "anonymous";\n//写入一个图片路径用于测速，放到服务器中，会形成一个1*1的透明像素\nimage.src = "http://www.yideng.com/ok.png";\n//图片是有回调的\nimage.onload = function(){\n  var endTime = Date.now();\n  var w = 4/(endTime-startTime);//w会在1-1000之间\n}\n')])])]),t("ul",[t("li",[a._v("navigator.sendBeacon() 用于通过HTTP将少量数据异步传输到Web服务器")]),a._v(" "),t("li",[a._v("window.requestAnimationFrame() 告诉浏览器希望执行动画并请求浏览器在下一次重绘之前调用指定的函数来更新动画，该方法使用一个回调函数作为参数，这个回调函数会在浏览器重绘之前调用。")])]),a._v(" "),t("h2",{attrs:{id:"使用image上报数据，为什么不用ajax"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用image上报数据，为什么不用ajax","aria-hidden":"true"}},[a._v("#")]),a._v(" 使用image上报数据，为什么不用Ajax?")]),a._v(" "),t("p",[a._v("例子：https://gsp0.baidu.com/5aAHeD3nKhI2p27j8IqW0jdnxx1xbK/tb/pms/img/st.gif?ts=55w&t=time&sid=jktkesaqljy&dv=3&page=110_25&p=110&z_mapload_first_normal_cityindex=1691")]),a._v(" "),t("ul",[t("li",[a._v("不需要额外的数据接口")]),a._v(" "),t("li",[a._v("上报数据不需要数据返回")]),a._v(" "),t("li",[a._v("不用占用业务资源")])]),a._v(" "),t("h2",{attrs:{id:"iframe对远程localstorage扩容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#iframe对远程localstorage扩容","aria-hidden":"true"}},[a._v("#")]),a._v(" iframe对远程localstorage扩容")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("//<iframe src=\"storage.html\" frameborder=\"0\"></iframe>\nwindow.frames[0].postMessage('name','11');\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('window.addEventListener("message",function(e){\n  if(e.source !== window.parent){\n    return;\n  }\n  localStorage.setItem(e.data.key, e.date.value);\n})\n')])])]),t("h2",{attrs:{id:"html语义化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#html语义化","aria-hidden":"true"}},[a._v("#")]),a._v(" HTML语义化")]),a._v(" "),t("ul",[t("li",[a._v("div布局，不进行无意义的包裹")]),a._v(" "),t("li",[a._v("少写html，减少DOM渲染的时间，减少整个文件的大小")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("<header>\n  <nav></nav>\n</header>\n<article>\n  <section></section>\n  <aside></aside>\n</article>\n<footer>\n  <address></address>\n</footer>\n")])])])])}],!1,null,null,null);e.default=r.exports}}]);