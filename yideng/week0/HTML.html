<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTML核心技巧 | 由志佳-FE</title>
    <meta name="description" content="当我有了达成某个目标的行动直觉，就要5、4、3、2、1行动起来，打破犹豫不决、过度思考的习惯，简单粗暴的战胜拖延症！">
    <link rel="icon" href="/img/favicon.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/img/favicon.png">
    
    <link rel="preload" href="/assets/css/0.styles.0fe57943.css" as="style"><link rel="preload" href="/assets/js/app.4790c765.js" as="script"><link rel="preload" href="/assets/js/20.175059f7.js" as="script"><link rel="prefetch" href="/assets/js/10.3fa1cfa6.js"><link rel="prefetch" href="/assets/js/11.6cfd2ac4.js"><link rel="prefetch" href="/assets/js/12.46bf5e30.js"><link rel="prefetch" href="/assets/js/13.b9004b37.js"><link rel="prefetch" href="/assets/js/14.60f6fc35.js"><link rel="prefetch" href="/assets/js/15.a44dfed4.js"><link rel="prefetch" href="/assets/js/16.4194c6c3.js"><link rel="prefetch" href="/assets/js/17.8b56715e.js"><link rel="prefetch" href="/assets/js/18.3797afbe.js"><link rel="prefetch" href="/assets/js/19.e2569aa7.js"><link rel="prefetch" href="/assets/js/2.b8e2b7d4.js"><link rel="prefetch" href="/assets/js/21.80af98ed.js"><link rel="prefetch" href="/assets/js/22.72377cd5.js"><link rel="prefetch" href="/assets/js/23.4a9c7e03.js"><link rel="prefetch" href="/assets/js/24.7c314f62.js"><link rel="prefetch" href="/assets/js/25.02a2c520.js"><link rel="prefetch" href="/assets/js/26.cbdece2b.js"><link rel="prefetch" href="/assets/js/27.03294d5c.js"><link rel="prefetch" href="/assets/js/28.fd368228.js"><link rel="prefetch" href="/assets/js/29.7e223b31.js"><link rel="prefetch" href="/assets/js/3.a84671e8.js"><link rel="prefetch" href="/assets/js/30.32882ac5.js"><link rel="prefetch" href="/assets/js/31.2b1c7dff.js"><link rel="prefetch" href="/assets/js/32.728a731a.js"><link rel="prefetch" href="/assets/js/33.1a66d1dc.js"><link rel="prefetch" href="/assets/js/4.72d3f8ab.js"><link rel="prefetch" href="/assets/js/5.e9ff9215.js"><link rel="prefetch" href="/assets/js/6.62e7c573.js"><link rel="prefetch" href="/assets/js/7.6b96f209.js"><link rel="prefetch" href="/assets/js/8.0a1d9558.js"><link rel="prefetch" href="/assets/js/9.041b71ad.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0fe57943.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">由志佳-FE</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/accumulate/" class="nav-link">积累</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/studying/" class="nav-link">书籍</a></li><li class="dropdown-item"><!----> <a href="/yideng/" class="nav-link router-link-active">京程一灯</a></li><li class="dropdown-item"><!----> <a href="/muke/" class="nav-link">慕课网</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工作</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lianjia/" class="nav-link">链家网（贝壳）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">生活</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reading/" class="nav-link">阅读</a></li><li class="dropdown-item"><!----> <a href="/education/" class="nav-link">育儿</a></li><li class="dropdown-item"><!----> <a href="/fitness/" class="nav-link">健身</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">面试</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tech-QA/" class="nav-link">技术题库</a></li><li class="dropdown-item"><!----> <a href="/project-QA/" class="nav-link">项目题库</a></li><li class="dropdown-item"><!----> <a href="/open-QA/" class="nav-link">开放题库</a></li><li class="dropdown-item"><!----> <a href="/others-QA/" class="nav-link">面经</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://panjiachen.github.io/awesome-bookmarks/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  awesome-bookmarks
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://yhlben.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  yhlben
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Github</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/youzhijia" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/accumulate/" class="nav-link">积累</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/studying/" class="nav-link">书籍</a></li><li class="dropdown-item"><!----> <a href="/yideng/" class="nav-link router-link-active">京程一灯</a></li><li class="dropdown-item"><!----> <a href="/muke/" class="nav-link">慕课网</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工作</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lianjia/" class="nav-link">链家网（贝壳）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">生活</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reading/" class="nav-link">阅读</a></li><li class="dropdown-item"><!----> <a href="/education/" class="nav-link">育儿</a></li><li class="dropdown-item"><!----> <a href="/fitness/" class="nav-link">健身</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">面试</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tech-QA/" class="nav-link">技术题库</a></li><li class="dropdown-item"><!----> <a href="/project-QA/" class="nav-link">项目题库</a></li><li class="dropdown-item"><!----> <a href="/open-QA/" class="nav-link">开放题库</a></li><li class="dropdown-item"><!----> <a href="/others-QA/" class="nav-link">面经</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://panjiachen.github.io/awesome-bookmarks/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  awesome-bookmarks
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://yhlben.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  yhlben
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Github</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/youzhijia" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>预读</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/yideng/week0/ES5.html" class="sidebar-link">ES5核心技巧</a></li><li><a href="/yideng/week0/HTML.html" class="active sidebar-link">HTML核心技巧</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yideng/week0/HTML.html#同源策略" class="sidebar-link">同源策略</a></li><li class="sidebar-sub-header"><a href="/yideng/week0/HTML.html#如何设置同源策略？（hosts）" class="sidebar-link">如何设置同源策略？（hosts）</a></li><li class="sidebar-sub-header"><a href="/yideng/week0/HTML.html#完全不同源的网页，如何解决跨域窗口的通讯问题" class="sidebar-link">完全不同源的网页，如何解决跨域窗口的通讯问题?</a></li><li class="sidebar-sub-header"><a href="/yideng/week0/HTML.html#window-postmessage" class="sidebar-link">window.postMessage</a></li><li class="sidebar-sub-header"><a href="/yideng/week0/HTML.html#如何突破同源策略？前端跨域有几种方案" class="sidebar-link">如何突破同源策略？前端跨域有几种方案?</a></li><li class="sidebar-sub-header"><a href="/yideng/week0/HTML.html#image测试网速" class="sidebar-link">image测试网速</a></li><li class="sidebar-sub-header"><a href="/yideng/week0/HTML.html#使用image上报数据，为什么不用ajax" class="sidebar-link">使用image上报数据，为什么不用Ajax?</a></li><li class="sidebar-sub-header"><a href="/yideng/week0/HTML.html#iframe对远程localstorage扩容" class="sidebar-link">iframe对远程localstorage扩容</a></li><li class="sidebar-sub-header"><a href="/yideng/week0/HTML.html#html语义化" class="sidebar-link">HTML语义化</a></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>javascript语言新发展</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>大话NodeJS72般变化</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端工程化那些事</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端性能优化与工程化</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS古话今说与网站重构</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>MVC MVVM架构那些事</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端跨界AI&amp;iOS&amp;PC&amp;Android&amp;IOT</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>数据结构与算法JavaScript实践</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JavaScript图形学和H5游戏</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>设计模式与网络安全专场</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="html核心技巧"><a href="#html核心技巧" aria-hidden="true" class="header-anchor">#</a> HTML核心技巧</h1> <h2 id="同源策略"><a href="#同源策略" aria-hidden="true" class="header-anchor">#</a> 同源策略</h2> <ul><li>含义：域名、协议、端口相同</li> <li>目的：保证用户信息的安全，防止恶意的获取网站数据</li> <li>限制对象（跨域）：Cookie、LocalStorage、IndexDB无法读取；DOM无法获取；Ajax请求无法发送</li></ul> <h2 id="如何设置同源策略？（hosts）"><a href="#如何设置同源策略？（hosts）" aria-hidden="true" class="header-anchor">#</a> 如何设置同源策略？（hosts）</h2> <p>当网页的一级域名相同，二级域名不同时，设置<strong>document.domain</strong>，可以共享cookie</p> <h2 id="完全不同源的网页，如何解决跨域窗口的通讯问题"><a href="#完全不同源的网页，如何解决跨域窗口的通讯问题" aria-hidden="true" class="header-anchor">#</a> 完全不同源的网页，如何解决跨域窗口的通讯问题?</h2> <ul><li>片段识别符（改变hash）</li> <li>window.name</li> <li>跨文档通讯API（window.postMessage）</li></ul> <h2 id="window-postmessage"><a href="#window-postmessage" aria-hidden="true" class="header-anchor">#</a> window.postMessage</h2> <div class="language- extra-class"><pre class="language-text"><code>// 父：http://aaa.com 子：http://bbb.com
var A = window.open('http://bbb.com','title');//父窗口打开子窗口
A.postMessage('儿子','http://bbb.com');//父窗口向特定子窗口发信息
A.postMessage('儿子们');//父窗口向所有子窗口发信息
window.opener.postMessage('皇阿玛','http://aaa.com');//子窗口向父窗口发信息
</code></pre></div><h2 id="如何突破同源策略？前端跨域有几种方案"><a href="#如何突破同源策略？前端跨域有几种方案" aria-hidden="true" class="header-anchor">#</a> 如何突破同源策略？前端跨域有几种方案?</h2> <ul><li>HTML标签：img、iframe、script（jsonp）、link（background）</li> <li>JSONP：基本思想：网页通过添加script元素，向服务器请求JSON数据，服务器收到请求后，将数据放到一个指定名字的回调函数里传过来</li> <li>WebSocket</li> <li>CORS</li></ul> <h2 id="image测试网速"><a href="#image测试网速" aria-hidden="true" class="header-anchor">#</a> image测试网速</h2> <div class="language- extra-class"><pre class="language-text"><code>//已知图片大小，已知时间差，网速=kb/s
var startTime = Date.now();
var image = new Image();
image.crossOrigin = &quot;anonymous&quot;;
//写入一个图片路径用于测速，放到服务器中，会形成一个1*1的透明像素
image.src = &quot;http://www.yideng.com/ok.png&quot;;
//图片是有回调的
image.onload = function(){
  var endTime = Date.now();
  var w = 4/(endTime-startTime);//w会在1-1000之间
}
</code></pre></div><ul><li>navigator.sendBeacon() 用于通过HTTP将少量数据异步传输到Web服务器</li> <li>window.requestAnimationFrame() 告诉浏览器希望执行动画并请求浏览器在下一次重绘之前调用指定的函数来更新动画，该方法使用一个回调函数作为参数，这个回调函数会在浏览器重绘之前调用。</li></ul> <h2 id="使用image上报数据，为什么不用ajax"><a href="#使用image上报数据，为什么不用ajax" aria-hidden="true" class="header-anchor">#</a> 使用image上报数据，为什么不用Ajax?</h2> <p>例子：https://gsp0.baidu.com/5aAHeD3nKhI2p27j8IqW0jdnxx1xbK/tb/pms/img/st.gif?ts=55w&amp;t=time&amp;sid=jktkesaqljy&amp;dv=3&amp;page=110_25&amp;p=110&amp;z_mapload_first_normal_cityindex=1691</p> <ul><li>不需要额外的数据接口</li> <li>上报数据不需要数据返回</li> <li>不用占用业务资源</li></ul> <h2 id="iframe对远程localstorage扩容"><a href="#iframe对远程localstorage扩容" aria-hidden="true" class="header-anchor">#</a> iframe对远程localstorage扩容</h2> <div class="language- extra-class"><pre class="language-text"><code>//&lt;iframe src=&quot;storage.html&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;
window.frames[0].postMessage('name','11');
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>window.addEventListener(&quot;message&quot;,function(e){
  if(e.source !== window.parent){
    return;
  }
  localStorage.setItem(e.data.key, e.date.value);
})
</code></pre></div><h2 id="html语义化"><a href="#html语义化" aria-hidden="true" class="header-anchor">#</a> HTML语义化</h2> <ul><li>div布局，不进行无意义的包裹</li> <li>少写html，减少DOM渲染的时间，减少整个文件的大小</li></ul> <div class="language- extra-class"><pre class="language-text"><code>&lt;header&gt;
  &lt;nav&gt;&lt;/nav&gt;
&lt;/header&gt;
&lt;article&gt;
  &lt;section&gt;&lt;/section&gt;
  &lt;aside&gt;&lt;/aside&gt;
&lt;/article&gt;
&lt;footer&gt;
  &lt;address&gt;&lt;/address&gt;
&lt;/footer&gt;
</code></pre></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">5/23/2019, 4:44:56 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/yideng/week0/ES5.html" class="prev">
          ES5核心技巧
        </a></span> <span class="next"><a href="/yideng/week1/JS_QA.html">
          JS&amp;QA
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.4790c765.js" defer></script><script src="/assets/js/20.175059f7.js" defer></script>
  </body>
</html>
